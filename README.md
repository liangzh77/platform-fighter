# 重力平台对战游戏

一个双人本地对战的平台跳跃格斗游戏,玩家在三个平台上进行战斗,使用技能攻击对手。

## 特性

- 🎮 双人本地多人游戏(共享键盘)
- ⚡ 3个不同高度的平台(左上、中下、右上)
- 🗡️ 4种技能系统(近战、远程、位置交换、大招)
- 💖 生命系统和复活机制(100HP, 3次复活)
- 🌌 重力物理系统

## 快速开始

### 前置要求

- Node.js 18+
- npm 或 pnpm

### 安装

```bash
npm install
```

### 开发

```bash
npm run dev
```

访问 `http://localhost:5173` 开始游戏。

### 构建

```bash
npm run build
```

### 测试

```bash
# 运行所有测试
npm run test

# 监听模式
npm run test:watch

# 生成覆盖率报告
npm run test:coverage
```

## 操作说明

### 玩家1控制

- **移动**: A (左) / D (右)
- **跳跃**: W
- **技能1**: Q (近战攻击 - 10点伤害, 3秒冷却)
- **技能2**: E (远程弹道 - 30点伤害, 5秒冷却)
- **技能3**: R (位置交换 - 5秒冷却)
- **技能4**: F (大招 - 角色A: 80点伤害/20秒冷却, 角色B: 40点伤害/15秒冷却)

### 玩家2控制

- **移动**: ← (左) / → (右)
- **跳跃**: ↑
- **技能1**: U
- **技能2**: I
- **技能3**: O
- **技能4**: P

### 调试快捷键 (开发模式)

- **F12**: 切换调试UI (FPS, 坐标)
- **F1**: 无敌模式
- **F2**: 重置技能冷却
- **F3**: 显示碰撞盒
- **F4**: 显示技能范围

## 游戏规则

1. 每个角色有100点生命值和3次复活机会
2. 生命值归零或掉出屏幕算死亡
3. 死亡后在中间平台复活,获得3秒无敌时间
4. 用完所有复活次数后,对方获胜

## 项目结构

```
游戏/
├── src/                 # 源代码
│   ├── core/            # 核心引擎
│   ├── systems/         # 游戏系统
│   ├── entities/        # 游戏对象
│   ├── ui/              # UI组件
│   └── utils/           # 工具函数
├── assets/              # 游戏资源
│   ├── config/          # 配置文件
│   ├── images/          # 图片资源
│   └── audio/           # 音频资源
├── tests/               # 测试文件
└── public/              # 静态文件
```

## 技术栈

- **语言**: JavaScript ES6+
- **构建工具**: Vite
- **测试框架**: Vitest
- **渲染**: HTML5 Canvas API
- **架构**: 配置驱动, 模块化设计

## 配置文件

所有游戏数值都可以通过 `assets/config/` 目录下的JSON文件修改:

- `characters.json` - 角色属性(生命值、移动速度)
- `skills.json` - 技能参数(伤害、冷却、范围)
- `platforms.json` - 平台位置和尺寸
- `physics.json` - 物理参数(重力、击退)
- `input.json` - 按键映射

修改后保存,Vite会自动热更新。

## 开发指南

详见 `specs/001-gravity-platform-fighter/quickstart.md`

## License

MIT
